// GENERATED BY DBBINDING TREADLE - Do not edit

use async_trait::async_trait;
use crate::db::{DbHandle, Result};
use crate::post::Post;

/// Database operations for Post
#[async_trait]
pub trait PostDb {

  /// Insert a new post
  async fn insert_post(
    &self,
    url: &str,
    title: Option<&str>,
    notes: Option<&str>,
    content_hash: Option<&str>,
  ) -> Result<i64>;

  /// Get post by ID
  async fn get_post_by_id(&self, id: i64) -> Result<Option<Post>>;

  /// Get post by unique field (e.g., URL for bookmarks)
  async fn get_post_by_url(&self, url: &str) -> Result<Option<Post>>;

  /// List all posts with pagination
  async fn list_posts(
    &self,
    limit: Option<usize>,
    offset: Option<usize>,
  ) -> Result<Vec<Post>>;

  /// Update post fields
  async fn update_post(
    &self,
    id: i64,
    title: Option<&str>,
    notes: Option<&str>,
  ) -> Result<bool>;

  /// Delete post by ID
  async fn delete_post(&self, id: i64) -> Result<bool>;

  /// Delete post by unique field
  async fn delete_post_by_url(&self, url: &str) -> Result<bool>;
}

/// Implementation via DbActor
#[async_trait]
impl PostDb for DbHandle {

  /// Insert a new post
  async fn insert_post(
    &self,
    url: &str,
    title: Option<&str>,
    notes: Option<&str>,
    content_hash: Option<&str>,
  ) -> Result<i64>; {
    // Implementation sends DbCommand to actor
    todo!("Generated implementation")
  }

  /// Get post by ID
  async fn get_post_by_id(&self, id: i64) -> Result<Option<Post>>;

  /// Get post by unique field (e.g., URL for bookmarks)
  async fn get_post_by_url(&self, url: &str) -> Result<Option<Post>>; {
    // Implementation sends DbCommand to actor
    todo!("Generated implementation")
  }

  /// List all posts with pagination
  async fn list_posts(
    &self,
    limit: Option<usize>,
    offset: Option<usize>,
  ) -> Result<Vec<Post>>; {
    // Implementation sends DbCommand to actor
    todo!("Generated implementation")
  }

  /// Update post fields
  async fn update_post(
    &self,
    id: i64,
    title: Option<&str>,
    notes: Option<&str>,
  ) -> Result<bool>; {
    // Implementation sends DbCommand to actor
    todo!("Generated implementation")
  }

  /// Delete post by ID
  async fn delete_post(&self, id: i64) -> Result<bool>;

  /// Delete post by unique field
  async fn delete_post_by_url(&self, url: &str) -> Result<bool>; {
    // Implementation sends DbCommand to actor
    todo!("Generated implementation")
  }
}
