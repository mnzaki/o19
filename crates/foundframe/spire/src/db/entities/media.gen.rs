// GENERATED BY DBBINDING TREADLE - Do not edit

use async_trait::async_trait;
use crate::db::{DbHandle, Result};
use crate::media::Media;

/// Database operations for Media
#[async_trait]
pub trait MediaDb {

  /// Insert a new media
  async fn insert_media(
    &self,
    url: &str,
    title: Option<&str>,
    notes: Option<&str>,
    content_hash: Option<&str>,
  ) -> Result<i64>;

  /// Get media by ID
  async fn get_media_by_id(&self, id: i64) -> Result<Option<Media>>;

  /// Get media by unique field (e.g., URL for bookmarks)
  async fn get_media_by_url(&self, url: &str) -> Result<Option<Media>>;

  /// List all medias with pagination
  async fn list_medias(
    &self,
    limit: Option<usize>,
    offset: Option<usize>,
  ) -> Result<Vec<Media>>;

  /// Update media fields
  async fn update_media(
    &self,
    id: i64,
    title: Option<&str>,
    notes: Option<&str>,
  ) -> Result<bool>;

  /// Delete media by ID
  async fn delete_media(&self, id: i64) -> Result<bool>;

  /// Delete media by unique field
  async fn delete_media_by_url(&self, url: &str) -> Result<bool>;
}

/// Implementation via DbActor
#[async_trait]
impl MediaDb for DbHandle {

  /// Insert a new media
  async fn insert_media(
    &self,
    url: &str,
    title: Option<&str>,
    notes: Option<&str>,
    content_hash: Option<&str>,
  ) -> Result<i64>; {
    // Implementation sends DbCommand to actor
    todo!("Generated implementation")
  }

  /// Get media by ID
  async fn get_media_by_id(&self, id: i64) -> Result<Option<Media>>;

  /// Get media by unique field (e.g., URL for bookmarks)
  async fn get_media_by_url(&self, url: &str) -> Result<Option<Media>>; {
    // Implementation sends DbCommand to actor
    todo!("Generated implementation")
  }

  /// List all medias with pagination
  async fn list_medias(
    &self,
    limit: Option<usize>,
    offset: Option<usize>,
  ) -> Result<Vec<Media>>; {
    // Implementation sends DbCommand to actor
    todo!("Generated implementation")
  }

  /// Update media fields
  async fn update_media(
    &self,
    id: i64,
    title: Option<&str>,
    notes: Option<&str>,
  ) -> Result<bool>; {
    // Implementation sends DbCommand to actor
    todo!("Generated implementation")
  }

  /// Delete media by ID
  async fn delete_media(&self, id: i64) -> Result<bool>;

  /// Delete media by unique field
  async fn delete_media_by_url(&self, url: &str) -> Result<bool>; {
    // Implementation sends DbCommand to actor
    todo!("Generated implementation")
  }
}
