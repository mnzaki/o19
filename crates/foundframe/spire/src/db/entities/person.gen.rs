// GENERATED BY DBBINDING TREADLE - Do not edit

use async_trait::async_trait;
use crate::db::{DbHandle, Result};
use crate::person::Person;

/// Database operations for Person
#[async_trait]
pub trait PersonDb {

  /// Insert a new person
  async fn insert_person(
    &self,
    url: &str,
    title: Option<&str>,
    notes: Option<&str>,
    content_hash: Option<&str>,
  ) -> Result<i64>;

  /// Get person by ID
  async fn get_person_by_id(&self, id: i64) -> Result<Option<Person>>;

  /// Get person by unique field (e.g., URL for bookmarks)
  async fn get_person_by_url(&self, url: &str) -> Result<Option<Person>>;

  /// List all persons with pagination
  async fn list_persons(
    &self,
    limit: Option<usize>,
    offset: Option<usize>,
  ) -> Result<Vec<Person>>;

  /// Update person fields
  async fn update_person(
    &self,
    id: i64,
    title: Option<&str>,
    notes: Option<&str>,
  ) -> Result<bool>;

  /// Delete person by ID
  async fn delete_person(&self, id: i64) -> Result<bool>;

  /// Delete person by unique field
  async fn delete_person_by_url(&self, url: &str) -> Result<bool>;
}

/// Implementation via DbActor
#[async_trait]
impl PersonDb for DbHandle {

  /// Insert a new person
  async fn insert_person(
    &self,
    url: &str,
    title: Option<&str>,
    notes: Option<&str>,
    content_hash: Option<&str>,
  ) -> Result<i64>; {
    // Implementation sends DbCommand to actor
    todo!("Generated implementation")
  }

  /// Get person by ID
  async fn get_person_by_id(&self, id: i64) -> Result<Option<Person>>;

  /// Get person by unique field (e.g., URL for bookmarks)
  async fn get_person_by_url(&self, url: &str) -> Result<Option<Person>>; {
    // Implementation sends DbCommand to actor
    todo!("Generated implementation")
  }

  /// List all persons with pagination
  async fn list_persons(
    &self,
    limit: Option<usize>,
    offset: Option<usize>,
  ) -> Result<Vec<Person>>; {
    // Implementation sends DbCommand to actor
    todo!("Generated implementation")
  }

  /// Update person fields
  async fn update_person(
    &self,
    id: i64,
    title: Option<&str>,
    notes: Option<&str>,
  ) -> Result<bool>; {
    // Implementation sends DbCommand to actor
    todo!("Generated implementation")
  }

  /// Delete person by ID
  async fn delete_person(&self, id: i64) -> Result<bool>;

  /// Delete person by unique field
  async fn delete_person_by_url(&self, url: &str) -> Result<bool>; {
    // Implementation sends DbCommand to actor
    todo!("Generated implementation")
  }
}
