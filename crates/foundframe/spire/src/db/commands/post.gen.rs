// GENERATED BY DBBINDING TREADLE - Do not edit

use crate::db::Result;
use crate::post::Post;
use crossbeam_channel::Sender as OneshotSender;

/// DbCommand variants for Post operations
#[derive(Debug)]
pub enum PostCommand {
  InsertPost {
    url: String,
    title: Option<String>,
    notes: Option<String>,
    content_hash: Option<String>,
    respond: oneshot::Sender<Result<i64>>,
  },
  GetPostById {
    id: i64,
    respond: oneshot::Sender<Result<Option<Post>>>,
  },
  GetPostByUrl {
    url: String,
    respond: oneshot::Sender<Result<Option<Post>>>,
  },
  ListPosts {
    limit: Option<usize>,
    offset: Option<usize>,
    respond: oneshot::Sender<Result<Vec<Post>>>,
  },
  UpdatePost {
    id: i64,
    title: Option<String>,
    notes: Option<String>,
    respond: oneshot::Sender<Result<bool>>,
  },
  DeletePost {
    id: i64,
    respond: oneshot::Sender<Result<bool>>,
  },
  DeletePostByUrl {
    url: String,
    respond: oneshot::Sender<Result<bool>>,
  },
}

// Re-export as part of DbCommand enum
// impl DbActor {
//   fn handle_post_command(&self, cmd: PostCommand) { ... }
// }
