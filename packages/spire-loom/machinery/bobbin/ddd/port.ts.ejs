<%
/**
 * DDD Port Template
 * Generates the port interface for a management
 */
const service = locals.service;
const entityPascal = service.entityName;
-%>
/**
 * <%= service.portName %>
 * 
 * Port interface for <%= service.entityName %> operations.
 * Generated from <%= service.name %> management methods.
 * 
 * @generated by ddd-services treadle
 */

export interface <%= service.portName %> {
<%_ for (const method of service.methods) { _%>
  /**
   * <%= method.description || method.name %>
   */
  <%= method.camelName %>(
<%_   for (const param of method.params) { _%>
    <%= param.name %><%= param.optional ? '?' : '' %>: <%= param.tsType %>,
<%_   } _%>
  ): Promise<<%= method.returnType %><%= method.isCollection ? '[]' : '' %>>;

<%_ } _%>
}

/**
 * Read adaptor interface for <%= service.entityName %>
 * Implements read/list operations
 */
export interface <%= entityPascal %>ReadAdaptor {
<%_ for (const method of service.readMethods) { _%>
  <%= method.camelName %>(
<%_   for (const param of method.params) { _%>
    <%= param.name %><%= param.optional ? '?' : '' %>: <%= param.tsType %>,
<%_   } _%>
  ): Promise<<%= method.returnType %><%= method.isCollection ? '[]' : '' %>>;

<%_ } _%>
}

/**
 * Write adaptor interface for <%= service.entityName %>
 * Implements create/update/delete operations
 */
export interface <%= entityPascal %>WriteAdaptor {
<%_ for (const method of service.writeMethods) { _%>
  <%= method.camelName %>(
<%_   for (const param of method.params) { _%>
    <%= param.name %><%= param.optional ? '?' : '' %>: <%= param.tsType %>,
<%_   } _%>
  ): Promise<<%= method.returnType %><%= method.isCollection ? '[]' : '' %>>;

<%_ } _%>
}
