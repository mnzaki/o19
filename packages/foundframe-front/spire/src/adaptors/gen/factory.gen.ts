// GENERATED BY SPIRE-LOOM - DO NOT EDIT (even if LLM)
// 
// This file is automatically generated from a template.
// Changes will be overwritten on next generation.
// 
// Template: kysely/factory.ts.ejs
// Template file: factory.ts.ejs
// This is a custom template in your workspace
// 
// To modify the generated output, edit the template file above.
// GENERATED BY kysely-adaptor Treadle - Do not edit
// Factory function for creating all Kysely adaptors

import { Kysely } from 'kysely';
import type { DB } from '../db/types.js';
import { KyselyBookmarkAdaptor } from './bookmark.adaptor.gen.js';
import { KyselyMediaAdaptor } from './media.adaptor.gen.js';
import { KyselyPostAdaptor } from './post.adaptor.gen.js';
import { KyselyPersonAdaptor } from './person.adaptor.gen.js';
import { KyselyConversationAdaptor } from './conversation.adaptor.gen.js';

// Import port types
import type {
  BookmarkPort,
  MediaPort,
  PostPort,
  PersonPort,
  ConversationPort
} from '../ports/index.js';

/**
 * All database ports interface
 */
export interface DatabasePorts {
  bookmark: BookmarkPort;
  media: MediaPort;
  post: PostPort;
  person: PersonPort;
  conversation: ConversationPort;
}

/**
 * Create all Kysely adaptors with the given database instance
 *
 * @example
 * ```typescript
 * import { Kysely } from 'kysely';
 * import { createKyselyAdaptors } from './adaptors/gen/factory.gen.js';
 *
 * const db = new Kysely<DB>({
 *   dialect: new SQLiteDialect({ database: new SQLiteDb('app.db') })
 * });
 *
 * const adaptors = createKyselyAdaptors(db);
 *
 * // Use adaptors
 * const bookmark = await adaptors.bookmark.getById(1);
 * ```
 */
export function createKyselyAdaptors(db: Kysely<DB>): DatabasePorts {
  return {
    bookmark: new KyselyBookmarkAdaptor(db),
    media: new KyselyMediaAdaptor(db),
    post: new KyselyPostAdaptor(db),
    person: new KyselyPersonAdaptor(db),
    conversation: new KyselyConversationAdaptor(db)
  };
}

/**
 * Convenience export for single adaptor creation
 */
export {
  KyselyBookmarkAdaptor,
  KyselyMediaAdaptor,
  KyselyPostAdaptor,
  KyselyPersonAdaptor,
  KyselyConversationAdaptor
};
